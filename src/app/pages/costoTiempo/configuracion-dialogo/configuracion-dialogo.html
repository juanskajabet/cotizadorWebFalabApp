<div class="modal-dialog modal-dialog-centered modal-md">
  <div class="modal-content p-4">
    <form>
      <h5 class="fw-bold mb-3">
        {{ esNuevaConfiguracion ? 'Agregar Configuración' : 'Editar Configuración' }}
      </h5>

      <!-- Material -->
      <div class="mb-3">
        <label class="form-label">Material</label>
        <select class="form-select" [(ngModel)]="configuracion.IdMaterial" name="idMaterial">
          <option [ngValue]="undefined">Seleccione material</option>
          <option *ngFor="let mat of materiales" [ngValue]="mat.IdMaterial">
            {{ mat.NombreMaterial }} ({{ mat.CodigoMaterial }})
          </option>
        </select>
      </div>

      <!-- FDA y SDA -->
      <ng-container *ngIf="configuracion?.CodigoMaquina === 'FDA' || configuracion?.CodigoMaquina === 'SDA'">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Costo por Kg</label>
            <input type="number" class="form-control" min="0" step="0.01" [(ngModel)]="configuracion.CostoPorKg"
              name="costoPorKg" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Costo por Gr</label>
            <input type="number" class="form-control" min="0" step="0.0001" [(ngModel)]="configuracion.CostoPorGr"
              name="costoPorGr" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Alquiler por Hora</label>
            <input type="number" class="form-control" min="0" step="0.01" [(ngModel)]="configuracion.AlquilerHora"
              name="alquilerHora" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Tiempo Post Proceso</label>
            <input type="text" class="form-control" [(ngModel)]="configuracion.TiempoPostProc" name="tiempoPostProc" />
          </div>
        </div>
      </ng-container>

      <!-- LAS -->
      <ng-container *ngIf="configuracion?.CodigoMaquina === 'LAS'">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Alquiler por Minuto</label>
            <input type="number" class="form-control" min="0" step="0.01" [(ngModel)]="configuracion.AlquilerMinuto"
              name="alquilerMinuto" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Costo por m²</label>
            <input type="number" class="form-control" min="0" step="0.01" [(ngModel)]="configuracion.CostoPorM2"
              name="costoPorM2" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Tiempo Post Proceso</label>
            <input type="text" class="form-control" [(ngModel)]="configuracion.TiempoPostProc" name="tiempoPostProc" />
          </div>
        </div>
      </ng-container>

      <!-- SUB -->
      <ng-container *ngIf="configuracion?.CodigoMaquina === 'SUB'">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Costo por Uso A4</label>
            <input type="number" class="form-control" min="0" step="0.01" [(ngModel)]="configuracion.CostoUsoA4"
              name="costoUsoA4" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Costo Fijo</label>
            <input type="number" class="form-control" min="0" step="0.01" [(ngModel)]="configuracion.CostoFijo"
              name="costoFijo" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Tiempo Post Proceso</label>
            <input type="text" class="form-control" [(ngModel)]="configuracion.TiempoPostProc" name="tiempoPostProc" />
          </div>
        </div>
      </ng-container>

      <!-- Botones -->
      <div class="d-flex justify-content-end mt-4">
        <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">
          Cancelar
        </button>
        <button type="button" class="btn btn-primary" (click)="guardarConfiguracion()">
          Guardar
          </button>
      </div>
    </form>
  </div>
</div>